<ContentDialog
    x:Class="WinSsh.Views.ProfileDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Host Profile"
    PrimaryButtonText="Save"
    SecondaryButtonText="Cancel"
    DefaultButton="Primary">

    <ContentDialog.Resources>
        <!-- Set both min and max to the same value for a truly fixed width -->
        <x:Double x:Key="ContentDialogMinWidth">500</x:Double>
        <x:Double x:Key="ContentDialogMaxWidth">500</x:Double>

        <!-- Optional: Fix height similarly -->
        <x:Double x:Key="ContentDialogMinHeight">500</x:Double>
        <x:Double x:Key="ContentDialogMaxHeight">7000</x:Double>
    </ContentDialog.Resources>
    
    <StackPanel>
        <SelectorBar x:Name="PanelSelector" SelectionChanged="PanelSelector_SelectionChanged">
            <SelectorBarItem Text="General" Tag="general" IsSelected="True" />
            <SelectorBarItem Text="Advanced" Tag="advanced" />
        </SelectorBar>

        <StackPanel x:Name="GeneralPanel" Visibility="Visible">
            <TextBox x:Name="NameBox" Header="Name" />

            <Grid ColumnSpacing="8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <TextBox x:Name="HostBox" Header="Host" PlaceholderText="Host or IP address" Grid.Column="0" />
                <TextBox x:Name="PortBox" Header="Port" Width="100" PlaceholderText="22" Grid.Column="1" />
            </Grid>

            <TextBox x:Name="UserBox" Header="Username" />

            <StackPanel Orientation="Horizontal" Spacing="8">
                <TextBox x:Name="KeyBox" Header="Identity file (optional)" Width="320"/>
                <Button Content="Browseâ€¦" Click="BrowseKey_Click" VerticalAlignment="Bottom"/>
            </StackPanel>

            <ComboBox x:Name="HostKeyCheckBox" Header="Host key checking">
                <ComboBoxItem Content="accept-new"/>
                <ComboBoxItem Content="ask"/>
                <ComboBoxItem Content="yes"/>
                <ComboBoxItem Content="no"/>
            </ComboBox>

        </StackPanel>

        <StackPanel x:Name="AdvancedPanel" Visibility="Collapsed">
            <ComboBox x:Name="JumpHostComboBox" Header="Jump host (optional)" PlaceholderText="None" />
            <TextBox x:Name="ExtraArgsBox" Header="Extra ssh args (optional)" />
            <CheckBox x:Name="TtyCheck" Content="Request TTY (-tt)" />
            <CheckBox x:Name="AgentFwdCheck" Content="Agent forwarding (-A)" />
        </StackPanel>
    </StackPanel>
    
</ContentDialog>
